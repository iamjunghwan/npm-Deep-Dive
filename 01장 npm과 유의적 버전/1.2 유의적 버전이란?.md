---
marp: true
title: Marp
paginate: true
style: |
  .red {
    color: red;
  }
  .green {
    color : green;
  }
  .blue {
    color : blue;
  }
---

### 1.2.1 유의적 버전의 등장 배경과 정의

유의적 버전

> : 개발자간, 소프트웨어 간에 복잡하게 얽힌 의존성을 쉽게 해결하기 위한 규약으로 모든 개발자들이 지켜야할 표준

유의적 버전의 요약

- 버전은 주.부.수로 이뤄진다.
- 기존 버전과 호환되지 않는 API 변경 사항이 있다면 주 버전이 올라간다.
- 기존 버전과 호환되면서 새로운 기능이 추가되면 부 버전을 올린다.
- 기존 버전과 호환되면서 버그를 수정한 것이라면 수 버전을 올린다.

이렇게 버전을 어떻게 올리는지에에 대한 규칙을 정해놓으면 버전에 따라 어떠한 변화가 있었는지 예상 가능하다.

---

### 1.2.2 유의적 버전의 구체적 명세

1. 유의적 버전을 쓰는 소프트웨어는 반드시 공개 API를 선언한다.
2. 보통 버전 번호는 반드시 X.Y.Z형태로 하고, 반드시 자연수, 절대로 앞에 0이 붙어서는 안된다.
3. 특정 버전으로 패키지를 배포하고 나면 해당 버전의 내용은 절대 변경하지 말아야 한다. 변경분이 있다면 반드시 새로운 버전으로 배포한다.
4. 주 버전 0 은 초기 개발을 위해서 쓴다. 아무 때나 마음대로 바꿀 수 있다. 이 공개 API는 안정판으로 보지 않는게 좋다.
5. 1.0.0 버전은 공개 API를 정의한다. 이후의 버전 번호는 이때 배포한 공개 API에서 어떻게 바뀌는지에 따라 올린다.
6. 수 버전은 반드시 그 전 버전 API와 호환되는 버그 수정인 경우에만 올린다. 버그 수정은 잘못된 내부 기능을 고치는 것으로 정의한다.

---

7. 공개 API에 기존과 호환되는 새로운 기능을 추가 할 때는 반드시 부 버전을 올린다. 공개 API일부를 앞으로 제거할 것으로 표시한 경우에도 반드시 올리도록 한다. 내부 비공개 코드에 새로운 기능이 대폭 추가되거나 개선사항이 있을 때도 올릴 수 있다. 부 버전을 올릴 때 수 버전을 올릴 때 만큼의 변화를 포함할 수도 있다. 부 버전이 올라가면 수 버전은 반드시 0에서 다시 시작한다.
8. 공개 API에 기존과 호환되지 않는 변화가 있을 때는 반드시 주 버전을 올린다. 부 버전이나 수 버전급 변화를 포함할 수 있다. 주 버전 번호를 올릴 때는 반드시 부 버전과 수 버전을 0으로 초기화 한다.
9. 수 버전 바로 뒤에 붙임표(-)를 붙이고 마침표(.)로 구분된 식별자를 더해서 정식 배포를 앞둔 버전을 표기할 수 있다.식별자는 반드시 아스키 문자, 숫자, 붙임표로만 구성하고 한 글자 이상으로 한다. 숫자 식별자의 경우 절대 앞에 0을 붙인 숫자로 표기하지 않는다. 정식 배포 전 버전은 관련한 보통 버전보다 우선순위가 낮다. 정식 배포 전 버전은 아직 불안정하며 연관된 일반 버전에 대해 호환성 요구사항이 충족되지 않을 수도 있다.

---

10. 빌드 메타데이터는 수 버전이나 정식 배포 전 식별자 뒤에 더하기 기호를 붙인 뒤에 마침표로 구분된 식별자를 덧붙여서 표현할 수 있다. 식별자는 반드시 아스키 문자와 숫자와 붙임표로만 구성한다. 식별자는 한드시 한 글자 이상으로 한다. 빌드 메타데이터는 버전간의 우선순위를 판단하고자 할 때 반드시 무시해야 한다.
11. 우선순위는 버전의 순서를 정렬할 때 서로를 어떻게 비교할지를 나타낸다. 우선순위는 반드시 주,부,수 버전 그리고 정식 배포 전 버전의 식별자를 나누어 계산하도록 한다.

<br>

📍 rc는 무슨 뜻인가요?

> rc는 release candidate의 약자로 정식 버전이 되기 직전의 버전을 의미.
> rc 식별자가 추가됐다는 것은 정식 버전의 출시가 임박했다는 것을 의미

---

#### 1.2.4 Node.js와 npm에서 사용하는 유의적 버전

semver 패키지

```
const semver = require('semver');

semver.valid('1.2.3')         // 1.2.3
semver.clean('=v1.2.3')       // 1.2.3
semver.minVersion('>=1.0.0'); // 1.0.0

```

> 이 패키지는 단순히 문자열이 유의적 버전 문법에 맞는지 확인 하는 것을 넘어 버전 간의 비교, 범위 비교 등 다양한 기능을 제공
> npm에서 제공하는 공식 패키지로 실제 npm내부에서 버전을 비교하는 경우에도 이 패키지를 사용하기 때문에 믿을만 하다.
